(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();const i=Array.from({length:100},()=>({height:100,velocity:0})),h=()=>{document.querySelector("#shape").setAttribute("points","85,190 15,190 "+i.map(({height:e},s)=>`${s},${e}`).slice(5,95).join(" "))};h();const a=1,d=.05,f=d**2/a**2,p=.3,y=e=>e*d<a?!0:(console.error("simulation unstable",{"deltaTime * c":e*d,s:a}),!1),m=(e,s,t)=>(s-e)*t+e,v=(e,s,t)=>(t-e)/(s-e),l=(e,s,t,r,n)=>m(t,r,v(e,s,n)),g=(e,s)=>(addEventListener(e,s),()=>removeEventListener(e,s));let u=0;const b=g("mousemove",e=>{u=l(0,window.innerWidth,1,-1,e.x),document.querySelector("#glass").style.transform=`translate(-50%, -50%) rotate(${-45*u}deg)`});g("deviceorientation",e=>{u=l(-90,90,1,-1,e.gamma),b()});const L=e=>{for(let t=0;t<i.length;t++){const r=i[t],n=i[t-1]??r,o=i[t+1]??r,c=f*(n.height+o.height-2*r.height);r.velocity+=e*c}for(let t=0;t<i.length;t++){const r=i[t],n=l(-1,1,10,190,u*l(0,i.length,-1,1,t)),o=f*(n-r.height)*.001;r.velocity+=e*o}const s=Math.max(0,1-p*e/1e3);for(let t=0;t<i.length;t++){const r=i[t];r.velocity*=s,r.height+=e*r.velocity}y(e),h()},x=e=>{const s=requestAnimationFrame;let t=null,r=!0;const n=o=>{if(o!=null&&t!=null){const c=o-t;e(c,o)}t=o,r&&s(n)};addEventListener("visibilitychange",o=>{document.visibilityState==="visible"&&!r?(r=!0,n()):(r=!1,t=null)}),n()};x(L);
